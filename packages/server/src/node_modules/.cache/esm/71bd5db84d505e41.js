let readFile,writeFile,resolve;_4d5‍.x([["default",()=>_4d5‍.o]]);_4d5‍.w("fs",[["readFile",["readFile"],function(v){readFile=v}],["writeFile",["writeFile"],function(v){writeFile=v}]]);_4d5‍.w("path",[["resolve",["resolve"],function(v){resolve=v}]]);


function createRepository(name) {
  const path = resolve(__dirname, `../../data/${name}.json`);

  return {
    read: () =>
      new Promise((resolve, reject) => {
        readFile(path, (error, data) => {
          if (error) {
            reject(error);
            return;
          }

          resolve(JSON.parse(data));
        });
      }),

    write: (data) =>
      new Promise(() => {
        writeFile(path, JSON.stringify(data), (error) => {
          if (error) {
            reject(error);
            return;
          }

          resolve();
        });
      }),
  };
}

_4d5‍.d(createRepository);
